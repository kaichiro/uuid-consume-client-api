<% include ../partials/header.ejs %>

    <h1>Customer List</h1>

    <p><a href="/">Home</a></p>
    <p><a href="/customers/create">Create Customer</a></p>

    <table class="table table-striped table-bordered table-hover table-sm">
        <caption><%= customers.length %> record<%= (customers.length > 1 ? 's' : '' ) %></caption>
        <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Id</th>
                <th scope="col">Name</th>
                <th scope="col">Birthday</th>
                <th scope="col">Delete</th>
            </tr>
        </thead>
        <tbody>
        <% customers.map( (customer, index) => { %>
            <tr>
                <td><%= (index + 1) %></td>
                <td><%= customer.id %></td>
                <th scope="row"><a href="/customers/update/<%= customer.id %>"><%= customer.name %></a></th>
                <td><%= customer.birth_day %></td>
                <td>
                    <div class="btn-group" role="group" aria-label="...">
                        <a
                            type="button" 
                            href="/customers/delete/<%= customer.id %>"
                            onClick="return confirm('Do you really want to delete the record<%= customer.id %>-<%= customer.name %>?')"
                        >&times;</a>
                    </div>
                </td>
            </tr>
        <% } )%>
        </tbody>
    </table>

<% include ../partials/footer.ejs %>
